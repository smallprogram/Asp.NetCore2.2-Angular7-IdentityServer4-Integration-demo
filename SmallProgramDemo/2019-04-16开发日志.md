# 2019-04-16

### 添加log配置
1. 配置Serilog
2. 添加配置文件
3. 添加错误处理

### asp.net core log API
Asp.net Core 提供了一套log API，内置6个log提供商<br>
1. Console
2. Debug
3. EventSource
4. EventLog
5. TraceSource
6. Azure App Service<br>
可以参考官方文档： https://docs.microsoft.com/zh-cn/aspnet/core/fundamentals/logging/?view=aspnetcore-2.2
### 第三方的Log提供商
1. Nlog
2. Serilog
3. ....
### 使用ILogger接口
通常使用依赖注入`ILogger<TCategoryName>`即可,TCategoryName为日志级别分类名

### ILogger的分类
1. 创建ILogger的时候指明分类
2. 分类名约定是调用类的全名(string)
3. 在ILoggerFactory上调用CreateLogger方法时可以指定分类的名称
4. 例如：
   > 方式一 `ILogger<TodoController> logger`<br>
   > 方式二 `logger.CreateLogger("TodoApi.Controllers.TodoController")`

### 添加Serilog
1. Install-Package Serilog
2. Install-Package Serilog.AspNetCore-DependencyVersion Highest
3. Install-Paceage Serilog.Sinks.Console
4. Install-Paceage Serilog.Sinks.File
5. Install-Paceage Serilog.Sinks.MSSqlServer
6. ...<br>
官网：<br>
 https://serilog.net <br>
 https://github.com/serilog/serilog-aspnetcore <br>
 https://github.com/serilog/serilog/wiki/Provided-Sinks <br>
通过在Program类中进行配置，之后通过Asp.Net Core Log API在控制器或者需要的地方调用即可